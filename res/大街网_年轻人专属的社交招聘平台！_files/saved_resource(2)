$(function(){var c=$("#jp-tui-button");if(c.length==0){return}var a=c.attr("data-tip");var b=localStorage.getItem("resume_preview_tui_tip");var d;c.hover(function(){d=$.tips({$point:c,$content:'<div style="line-height:22px; padding:15px;">'+a+"</div>",arrow:"tl",width:290,hasClose:false,offset:-39})},function(){d.hide()});if(!b){$.tips({$point:c,$content:'<div style="line-height:22px; padding:15px;">'+a+'<p style="text-align:center; padding-top:10px;"><span class="dj-btn dj-btn-main J_TipsX" style="cursor: pointer;">我知道了</span></p></div>',arrow:"tl",width:290,hasClose:false,offset:-39});localStorage.setItem("resume_preview_tui_tip",1)}});(function(){(function(c){var b="placeholder" in document.createElement("input");c.fn.extend({placeholder2:function(f){if(b&&jQuery(this).attr("data-not-use-placeholder")===undefined){jQuery(this).attr("placeholder",f)}else{if(jQuery(this).is(":input")){var e=jQuery(this);var d=e.css("color");e.focus(function(){var g=jQuery.trim(this.value);if(g==""||g==f){e.val("").css({color:d})}this.removeAttribute("placeholder")}).blur(function(){var g=jQuery.trim(this.value);if(g==""||g==f){e.val(f).css({color:"#999"})}this.setAttribute("placeholder",f)}).data("placeholder",f).triggerHandler("blur")}}return this},quickSubmit:function(){jQuery(this).keydown(function(g){if(!g.shiftKey&&!g.altKey&&g.ctrlKey&&g.keyCode==13){var f=jQuery(g.target);var d=f.is("form")?f:f[0].form;jQuery(d).submit()}});return this},limitLength:function(d,e,f){return this.each(function(){var i=jQuery(this);if(i.is("input:text")||i.is("textarea")){var h=this;var g=["keyup","focus","blur"];jQuery.each(g,function(j,k){jQuery(h).bind(k,function(){if(this.value.length>d){this.value=this.value.substring(0,d)}if(k=="keyup"){jQuery(this).scrollTop(jQuery(this).height())}if(e){if(f==true){jQuery(e).html((this.value==jQuery(this).data("tooltip")?0:this.value.length)+"/"+d)}else{jQuery(e).html(d-(this.value==jQuery(this).data("tooltip")?0:this.value.length))}}})});i.triggerHandler("blur")}})}})})(jQuery);var a=function(c){var b={codeUrl:"//www.dajie.com/captcha/code",tip:"最多只能输入1000个字...",submitUrl:"/message/terminal/send"};$.extend(this,b,c);this.init()};$.extend(a.prototype,{init:function(){var b=this.getHtml();this.dialog=$.alert(b,{title:"写私信",mask:true,width:560,defbtn:false,customClass:"dj-write-dialog"});this.submitBtn=this.dialog.find(".send-btn");this.form=this.dialog.find("form");this.actionItem=this.dialog.find(".action-item");this.$content=this.dialog.find("textarea[name=content]");this.bindEvent()},bindEvent:function(){var b=this;this.dialog.find(".user-item-content").ideapad({type:"friend",advanced:{max:1},maxError:"只能发给$max$个人",hiddenInputAttr:{name:"uid"},disabled:true});this.submitBtn.click(function(){b.submitAction()});this.dialog.find("input,textarea").bind("input",function(){b.dialog.find(".error-tip,.server-error").hide()});this.$content.bind("propertychange",function(){if($.trim($(this).val())===""){return}b.dialog.find(".error-tip,.server-error").hide()});this.dialog.find("input").bind("propertychange",function(){b.dialog.find(".error-tip,.server-error").hide()});this.form.delegate(".check-code-item img,.check-code-item a","click",function(){b.form.find(".check-code-item img").attr("src",b.codeUrl+"?t"+new Date().getTime())});this.$content.placeholder2(this.tip).limitLength(1000)},check:function(){var b=true;var e=$.trim(this.dialog.find("input[name=uid]").val());var d=$.trim(this.$content.val());if(e==""){this.dialog.find(".user-item .error-tip").show();b=false}if(d==""||d==this.tip){this.dialog.find(".content-item .error-tip").show();b=false}var c=this.dialog.find(".check-code-item");if(c.length>0){if($.trim(c.find("input").val())==""){c.find(".error-tip").show();b=false}}return b},submitAction:function(){var b=this;if(this.submitBtn.data("isReq")==true){return}if(!this.check()){return}this.submitBtn.data("isReq",true);$.ajax({url:this.submitUrl,data:this.form.serialize(),dataType:"JSON",type:"post",success:function(e){if(e.code=="0"||e.result=="0"){$('<span class="success-tip">发送成功</span>').appendTo(b.actionItem.find(".i-action")).show();setTimeout(function(){b.dialog.find(".close").triggerHandler("click");if(b.callback){b.callback()}},1000)}else{if(e.code=="2"){b.submitBtn.data("isReq",false);var d=b.dialog.find(".check-code-item");if(d.length>0){d.find("img").attr("src",b.codeUrl+"?t"+new Date().getTime())}else{var c=b.codeHtml();$(c).insertBefore(b.actionItem);var d=b.dialog.find(".check-code-item");d.find("input").unbind("input").bind("input",function(){b.dialog.find(".error-tip,.server-error").hide()});d.find("input").unbind("propertychange").bind("propertychange",function(){b.dialog.find(".error-tip,.server-error").hide()})}}else{b.submitBtn.data("isReq",false);b.dialog.find(".server-error").html(e.msg).show()}}},complete:function(){}})},getHtml:function(){return['<div class="dj-write-box">',"<form>",'<div class="i-item user-item clearfix">','<span class="title">收信人:</span>','<div class="item-input">','<div class="user-item-content"><input class="ms-default input-txt p-input" type="hidden" value="'+this.userId+","+this.userName+'"></div>','<p  class="error-tip">请输入收件人</p>',"</div>","</div>",'<div class="i-item content-item clearfix">','<span class="title">内容:</span>','<div class="item-input">','<textarea  name="content" class="input-txt e-content" ></textarea>','<p class="error-tip">请输入内容</p>',"</div>","</div>",'<div  class="i-item action-item">','<div class="i-action">','<a class="dj-btn dj-btn-m dj-btn-main send-btn" href="javascript:;">发送</a>','<span class="server-error">发送失败！</span>',"</div>","</div>","</form>","</div>"].join("")},codeHtml:function(){return['<div class="i-item check-code-item clearfix" >','<span class="title">验证码:</span>','<div class="item-input">','<input type="text" class="input-txt check-code" name="captcha"><img class="code-img" src="'+this.codeUrl+'"><a href="javascript:;">换一换</a>','<p class="error-tip">请输入验证码</p>',"</div>","</div>"].join("")}});window.writeLetterDialog=a})();$(function(){var d=document.getElementById("dj-ab-canvas");if(d!==null){setTimeout(function(){a(d)},300)}function c(f){var e=$(".ability-item  ul li");e.each(function(g){if($(this).text().indexOf(f)!==-1){$(this).addClass("click")}else{$(this).removeClass("click")}})}function b(k){var m=[];var j=["#83CBF1","#81E0B6","#7BA5CC","#F2C063","#BAA1F8","#EFBACC","#D3E9F4","#FAD691"];var l=["团队意识","学习能力","意志力","管理能力","执行能力","专业技能","沟通能力","创造能力"];var h={normal:{color:"#f8f8f8",label:{show:false},labelLine:{show:false}}};for(var f=0;f<k.length;f++){m[f]={};if(!Array.indexOf){Array.prototype.indexOf=function(o){for(var n=0;n<this.length;n++){if(this[n]==o){return n}}return -1}}var e={normal:{color:j[l.indexOf(k[f]["title"])],label:{show:false},labelLine:{show:false}}};var g={normal:{color:j[l.indexOf(k[f]["title"])],label:{show:true},labelLine:{show:false,length:5}}};if(f<3){m[f]["name"]=k[f]["scorePercent"]+"%";m[f]["value"]=k[f]["scorePercent"];m[f]["itemStyle"]=g}else{m[f]["name"]=String(k[f]["title"]);m[f]["value"]=k[f]["scorePercent"];if(k[f]["scorePercent"]==0){m[f]["itemStyle"]=h}else{m[f]["itemStyle"]=e}}}return m}function a(e){var h=dataList;var g={series:[{name:"优势评价",type:"pie",radius:["36%","82%"],center:["50%","50%"],hoverAnimation:false,labelLine:{normal:{show:false}},avoidLabelOverlap:false,label:{normal:{position:"outside",textStyle:{fontWeight:"200",fontSize:"14"}}},data:b(h)}]};var f=echarts.init(e);f.setOption(g)}$(document).bind("ItemMouseover",function(g,f){c(dataList[f]["title"])});$(document).bind("ItemMouseout",function(h,g){var f=$(".ability-item  ul li");f.removeClass("click")})});